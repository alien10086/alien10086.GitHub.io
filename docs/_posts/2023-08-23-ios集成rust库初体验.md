---
layout: post
title: "ios集成rust库初体验"
date: 2023-08-23 15:05:00 +0800
categories: IOS
---


# 一,环境准备

设备

```
MacBook Pro (13-inch, M1, 2020) macOs 13.5
xcode Version 14.3.1 
```

# 安装Rust
  
  Rustup配置管理[点我](https://www.rust-lang.org/zh-CN/tools/install)你也可以选择其他安装方式

# 添加工具链

```
rustup target add aarch64-apple-ios x86_64-apple-ios

cargo install cargo-lipo
```

# 创建demo项目

```
cargo new iosdemo --lib

cd iosdemo
```
进入到项目目录，然后开始实现代码
主要是在项目的src/lib.rs中实现rust代码，并且在目录下添加一个greetings.h头文件，作用: C 桥接文件,在这个文件中，我们定义 C 接口,确保 iOS 调用的每个 Rust 函数都在这里有定义。

![123](https://github.com/alien10086/alien10086.github.io/raw/master/docs/images/DCC06DFE-8D30-4A66-836C-2081D717EC19.png)
